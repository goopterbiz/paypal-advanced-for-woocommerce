function initSmartButtons(){console.log("initSmartButtons");let o=jQuery;if("undefined"==typeof goopter_ppcp_manager)return!1;let e=goopterOrder.getCheckoutSelectorCss();if(o(".variations_form").length){let e="#goopter_ppcp_product, #goopter_ppcp_product_google_pay, #goopter_ppcp_product_apple_pay";o(".variations_form").on("show_variation",(function(){o(e).show()})).on("hide_variation",(function(){o(e).hide()}))}o(document.body).hasClass("woocommerce-order-pay")&&o("#order_review").on("submit",(function(r){return!0!==goopterOrder.isCardFieldEligible()||(r.preventDefault(),!(!o('input[name="wc-goopter_ppcp_cc-payment-token"]').length||"new"===o('input[name="wc-goopter_ppcp_cc-payment-token"]:checked').val())||(o(e).is(".paypal_cc_submiting")||(o(e).addClass("paypal_cc_submiting"),o(document.body).trigger("submit_paypal_cc_form")),!1))})),o(e).on("checkout_place_order_goopter_ppcp_cc",(function(r){return!0!==goopterOrder.isCardFieldEligible()||(r.preventDefault(),!(!o('input[name="wc-goopter_ppcp_cc-payment-token"]').length||"new"===o('input[name="wc-goopter_ppcp_cc-payment-token"]:checked').val())||(o(e).is(".paypal_cc_submiting")||(o(e).addClass("paypal_cc_submiting"),o(document.body).trigger("submit_paypal_cc_form")),!1))})),!1===goopterOrder.isCheckoutPage()&&goopterOrder.renderSmartButton(),"yes"===goopter_ppcp_manager.is_pay_page&&(goopterOrder.hideShowPlaceOrderButton(),setTimeout((function(){goopterOrder.renderSmartButton(),!0===goopterOrder.isCardFieldEligible()&&(0===o("#goopter_ppcp_cc-card-number iframe").length&&o(goopterOrder.getCheckoutSelectorCss()).removeClass("CardFields"),o(".checkout_cc_separator").show(),o("#wc-goopter_ppcp-cc-form").show(),goopterOrder.renderHostedButtons())}),300)),goopterOrder.updateCartTotalsInEnvironment(),goopterOrder.hooks.onPaymentCancellation(),goopterOrder.hooks.handleWooEvents(),goopterOrder.triggerPendingEvents(),o(document.body).on("removed_coupon_in_checkout",(function(){window.location.href=window.location.href}))}!function(){"use strict";goopterOrder.hooks.handleRaceConditionOnWooHooks();window.goopterLoadAsyncLibs=(o,e)=>{goopterLoadPayPalScript({url:goopter_ppcp_manager.paypal_sdk_url,script_attributes:goopter_ppcp_manager.paypal_sdk_attributes},o,e)},window.goopterLoadAsyncLibs((()=>{console.log("PayPal lib loaded, initialize buttons.");let o=[];if(goopterOrder.isApplePayEnabled()){let e=new Promise((o=>{console.log("apple sdk loaded"),o()}));o.push({url:goopter_ppcp_manager.apple_sdk_url,callback:e})}if(goopterOrder.isGooglePayEnabled()){let e=new Promise((o=>{console.log("google sdk loaded"),o()}));o.push({url:goopter_ppcp_manager.google_sdk_url,callback:e})}if(0===o.length)initSmartButtons();else{let e=[];for(let r=0;r<o.length;r++)e.push(o[r].callback);Promise.all(e).then((o=>{console.log("all libs loaded"),initSmartButtons()}),(o=>{console.log("An error occurred in loading the SDKs.")}));for(let e=0;e<o.length;e++)goopterLoadPayPalScript(o[e],o[e].callback)}}))}(jQuery),window.onerror=function(o,e,r){goopterJsErrorLogger.logJsError({msg:o,source:e,line:r})};